{"version":3,"sources":["../src/videojs-shaka.js"],"names":["Html5","videojs","getComponent","ShakaTech","options","ready","source","shaka","polyfill","installAll","video","el","shakaPlayer","Player","addEventListener","e","options_","playerId","trigger","load","src","window","MediaSource","srcObj","type","registerTech","techOrder","unshift"],"mappings":"mzCAAA;;;;;;;GASA,GAAMA,OAAQC,QAAQC,YAAR,CAAqB,OAArB,CAAd,C,GAEMC,U,4CAEF,mBAAYC,OAAZ,CAAqBC,KAArB,CAA4B,iCAExB,GAAIC,QAASF,QAAQE,MAArB,CACA,MAAOF,SAAQE,MAAf,CAHwB,4GAKlBF,OALkB,CAKTC,KALS,GAOxBE,MAAMC,QAAN,CAAeC,UAAf,GAEA,GAAIC,OAAQ,MAAKC,EAAL,EAAZ,CAEA,MAAKC,WAAL,CAAmB,GAAIL,OAAMM,MAAV,CAAiBH,KAAjB,CAAnB,CAEA,MAAKE,WAAL,CAAiBE,gBAAjB,CAAkC,OAAlC,CAA2C,SAACC,CAAD,CAAO,CAC9Cd,QAAQ,MAAKe,QAAL,CAAcC,QAAtB,EAAgCC,OAAhC,CAAwC,OAAxC,CAAiDH,CAAjD,CACH,CAFD,EAIA,MAAKH,WAAL,CAAiBO,IAAjB,CAAsBb,OAAOc,GAA7B,EAjBwB,YAkB3B,C,4EAEoB,CACjB,MAAO,CAAC,CAACC,OAAOC,WACnB,C,oDAEoBC,M,CAAQ,CACzB,MAAQA,QAAOC,IAAP,GAAgB,sBAAjB,CAA2C,OAA3C,CAAqD,EAC/D,C,sBA5BmBxB,K,EA+BxBC,QAAQwB,YAAR,CAAqB,OAArB,CAA8BtB,SAA9B,EACAF,QAAQG,OAAR,CAAgBsB,SAAhB,CAA0BC,OAA1B,CAAkC,OAAlC","file":"videojs-shaka.js","sourcesContent":["/**\n * videojs-shaka.js\n *\n * License can be found in the LICENSE file.\n *\n * @copyright 2016 halibegic\n * @author halibegic <hasan461@gmail.com>\n */\n\nconst Html5 = videojs.getComponent('Html5');\n\nclass ShakaTech extends Html5 {\n\n    constructor(options, ready) {\n\n        let source = options.source;\n        delete options.source;\n\n        super(options, ready);\n\n        shaka.polyfill.installAll();\n\n        let video = this.el();\n\n        this.shakaPlayer = new shaka.Player(video);\n\n        this.shakaPlayer.addEventListener('error', (e) => {\n            videojs(this.options_.playerId).trigger('error', e);\n        });\n\n        this.shakaPlayer.load(source.src);\n    }\n\n    static isSupported() {\n        return !!window.MediaSource;\n    }\n\n    static canPlaySource(srcObj) {\n        return (srcObj.type === 'application/dash+xml') ? 'maybe' : '';\n    }\n}\n\nvideojs.registerTech('Shaka', ShakaTech);\nvideojs.options.techOrder.unshift('Shaka');\n"]}